<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hệ Thống Quản Lý Tiến Độ Học Tập</title>
  <link rel="icon" href="/img/background/EDU.png?v=1.0" type="image/png">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Font & Library -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Custom Admin CSS -->
  <link rel="stylesheet" href="/css/admin.css" />
</head>

<body>
  <!-- Toggle Sidebar Button -->
  <button id="toggleSidebar" class="toggle-btn">
    <i class="fas fa-bars"></i>
  </button>

  <!-- Sidebar -->
  <nav id="sidebar" class="sidebar collapsed">
    <div class="sidebar-header"></div>
    <a href="/admin/dashboard"><i class="fas fa-home"></i><span class="sidebar-text">Dashboard</span></a>
    <a href="/admin/users"><i class="fas fa-user-graduate"></i><span class="sidebar-text">Học Viên</span></a>
    <a href="/admin/videos"><i class="fas fa-video"></i><span class="sidebar-text">Khóa Học</span></a>
    <a href="/admin/chat"><i class="fas fa-comment-dots"></i><span class="sidebar-text">Hộp Thư</span></a>
    <a href="/admin/statistic"><i class="fas fa-chart-line"></i><span class="sidebar-text">Thống Kê</span></a>
    <a href="/logout"><i class="fas fa-sign-out-alt text-danger"></i><span class="sidebar-text text-danger">Đăng Xuất</span></a>
  </nav>

  <!-- Main Content -->
  <main id="mainContent" class="content shifted">
    {{{body}}}
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h6 class="footer-title">
          <i class="fas fa-graduation-cap me-2"></i>
          Hệ Thống Quản Lý Tiến Độ Học Tập
        </h6>
        <p class="footer-description">
          Nền tảng quản lý và theo dõi tiến độ học tập hiệu quả, giúp học viên đạt được mục tiêu học tập một cách tối ưu.
        </p>
        <div class="footer-features">
          <span class="feature-badge">
            <i class="fas fa-shield-alt me-1"></i>Bảo mật cao
          </span>
          <span class="feature-badge">
            <i class="fas fa-mobile-alt me-1"></i>Responsive
          </span>
          <span class="feature-badge">
            <i class="fas fa-rocket me-1"></i>Hiệu suất tốt
          </span>
        </div>
      </div>
      
      <div class="footer-section">
        <h6 class="footer-title">
          <i class="fas fa-cogs me-2"></i>
          Quản Trị Hệ Thống
        </h6>
        <ul class="footer-links">
          <li><a href="/admin/dashboard"><i class="fas fa-chart-bar me-1"></i>Dashboard</a></li>
          <li><a href="/admin/users"><i class="fas fa-users me-1"></i>Quản lý học viên</a></li>
          <li><a href="/admin/videos"><i class="fas fa-video me-1"></i>Quản lý khóa học</a></li>
          <li><a href="/admin/statistic"><i class="fas fa-chart-line me-1"></i>Báo cáo</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h6 class="footer-title">
          <i class="fas fa-headset me-2"></i>
          Hỗ Trợ & Liên Hệ
        </h6>
        <ul class="footer-links">
          <li><a href="/admin/chat"><i class="fas fa-comments me-1"></i>Hộp thư hỗ trợ</a></li>
          <li><a href="#" onclick="showHelp()"><i class="fas fa-question-circle me-1"></i>Hướng dẫn sử dụng</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h6 class="footer-title">
          <i class="fas fa-info-circle me-2"></i>
          Thông Tin Hệ Thống
        </h6>
        <div class="footer-info">
          <p><i class="fas fa-code me-1"></i>Phiên bản: <strong>2.0.0</strong></p>
          <p><i class="fas fa-calendar me-1"></i>Cập nhật: <span class="currentYear">2025</span></p>
          <p><i class="fas fa-shield-alt me-1"></i>Bảo mật: SSL/TLS</p>
          <p><i class="fas fa-database me-1"></i>Database: MongoDB</p>
        </div>
        <div class="footer-status">
          <span class="status-indicator online">
            <i class="fas fa-circle me-1"></i>Hệ thống hoạt động
          </span>
        </div>
      </div>
    </div>
    
    <div class="footer-bottom">
      <div class="footer-copyright">
        <i class="fas fa-copyright me-1"></i>
        2025 - Hệ Thống Quản Lý Tiến Độ Học Tập. 
        <span class="text-muted">Phát triển bởi <strong>Team MMT</strong></span>
      </div>
      
      <div class="footer-actions">
        <button class="btn btn-sm btn-outline-light me-2" onclick="showHelp()">
          <i class="fas fa-question-circle me-1"></i>Trợ giúp
        </button>
        <button class="btn btn-sm btn-outline-light me-2" onclick="showFeedback()">
          <i class="fas fa-comment me-1"></i>Góp ý
        </button>
        <a href="/admin/dashboard" class="btn btn-sm btn-primary">
          <i class="fas fa-home me-1"></i>Dashboard
        </a>
      </div>
      
      <div class="footer-social">
        <a href="#" class="social-link" title="Facebook" onclick="openSocial('facebook')">
          <i class="fab fa-facebook"></i>
        </a>
        <a href="#" class="social-link" title="Twitter" onclick="openSocial('twitter')">
          <i class="fab fa-twitter"></i>
        </a>
        <a href="#" class="social-link" title="LinkedIn" onclick="openSocial('linkedin')">
          <i class="fab fa-linkedin"></i>
        </a>
        <a href="#" class="social-link" title="GitHub" onclick="openSocial('github')">
          <i class="fab fa-github"></i>
        </a>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    const sidebar = document.getElementById('sidebar');
    const content = document.getElementById('mainContent');
    const toggleBtn = document.getElementById('toggleSidebar');

    toggleBtn.addEventListener('click', () => {
      const collapsed = sidebar.classList.contains('collapsed');
      if (collapsed) {
        sidebar.classList.remove('collapsed');
        content.classList.remove('shifted');
      } else {
        sidebar.classList.add('collapsed');
        content.classList.add('shifted');
      }
    });

    // Default: collapsed sidebar
    sidebar.classList.add('collapsed');
    content.classList.add('shifted');

    // Hàm hiển thị hướng dẫn
    function showHelp() {
      const helpContent = `
        <div class="modal fade" id="helpModal" tabindex="-1">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header bg-primary text-white">
                <h5 class="modal-title">
                  <i class="fas fa-question-circle me-2"></i>
                  Hướng Dẫn Sử Dụng Hệ Thống
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-md-6">
                    <h6 class="text-primary"><i class="fas fa-chart-bar me-2"></i>Dashboard</h6>
                    <p class="small">Xem tổng quan hệ thống, thống kê học viên và khóa học</p>
                    
                    <h6 class="text-primary"><i class="fas fa-users me-2"></i>Quản Lý Học Viên</h6>
                    <p class="small">Thêm, sửa, xóa và quản lý thông tin học viên</p>
                    
                    <h6 class="text-primary"><i class="fas fa-video me-2"></i>Quản Lý Khóa Học</h6>
                    <p class="small">Tạo và quản lý các khóa học video</p>
                  </div>
                  <div class="col-md-6">
                    <h6 class="text-primary"><i class="fas fa-comments me-2"></i>Hộp Thư</h6>
                    <p class="small">Tương tác và hỗ trợ học viên qua chat</p>
                    
                    <h6 class="text-primary"><i class="fas fa-chart-line me-2"></i>Thống Kê</h6>
                    <p class="small">Xem báo cáo chi tiết về hiệu suất hệ thống</p>
                    
                    <h6 class="text-primary"><i class="fas fa-cog me-2"></i>Cài Đặt</h6>
                    <p class="small">Tùy chỉnh cấu hình hệ thống</p>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                <a href="/admin/dashboard" class="btn btn-primary">Đến Dashboard</a>
              </div>
            </div>
          </div>
        </div>
      `;
      
      if (!document.getElementById('helpModal')) {
        document.body.insertAdjacentHTML('beforeend', helpContent);
      }
      
      const helpModal = new bootstrap.Modal(document.getElementById('helpModal'));
      helpModal.show();
    }

    // Hàm hiển thị form liên hệ
    function showContact() {
      const contactContent = `
        <div class="modal fade" id="contactModal" tabindex="-1">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header bg-info text-white">
                <h5 class="modal-title">
                  <i class="fas fa-envelope me-2"></i>
                  Liên Hệ Admin
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
              </div>
              <div class="modal-body">
                <p><strong>Email:</strong> admin@hethong.edu.vn</p>
                <p><strong>Điện thoại:</strong> 0123-456-789</p>
                <p><strong>Địa chỉ:</strong> Trường Đại học ABC, TP.HCM</p>
                <p><strong>Thời gian làm việc:</strong> 8:00 - 17:00 (Thứ 2 - Thứ 6)</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                <a href="mailto:admin@hethong.edu.vn" class="btn btn-info">
                  <i class="fas fa-envelope me-1"></i>Gửi Email
                </a>
              </div>
            </div>
          </div>
        </div>
      `;
      
      if (!document.getElementById('contactModal')) {
        document.body.insertAdjacentHTML('beforeend', contactContent);
      }
      
      const contactModal = new bootstrap.Modal(document.getElementById('contactModal'));
      contactModal.show();
    }

    // Hàm hiển thị form góp ý
    function showFeedback() {
      const feedbackContent = `
        <div class="modal fade" id="feedbackModal" tabindex="-1">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header bg-warning text-dark">
                <h5 class="modal-title">
                  <i class="fas fa-comment-dots me-2"></i>
                  Góp Ý Hệ Thống
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
              </div>
              <div class="modal-body">
                <form>
                  <div class="mb-3">
                    <label class="form-label">Loại góp ý:</label>
                    <select class="form-select">
                      <option>Góp ý tính năng</option>
                      <option>Báo lỗi</option>
                      <option>Đề xuất cải tiến</option>
                      <option>Khác</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label class="form-label">Nội dung:</label>
                    <textarea class="form-control" rows="4" placeholder="Nhập nội dung góp ý..."></textarea>
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                <button type="button" class="btn btn-warning">
                  <i class="fas fa-paper-plane me-1"></i>Gửi Góp Ý
                </button>
              </div>
            </div>
          </div>
        </div>
      `;
      
      if (!document.getElementById('feedbackModal')) {
        document.body.insertAdjacentHTML('beforeend', feedbackContent);
      }
      
      const feedbackModal = new bootstrap.Modal(document.getElementById('feedbackModal'));
      feedbackModal.show();
    }

    // Hàm mở social media
    function openSocial(platform) {
      const urls = {
        facebook: 'https://facebook.com/hethongedu',
        twitter: 'https://twitter.com/hethongedu',
        linkedin: 'https://linkedin.com/company/hethongedu',
        github: 'https://github.com/team-mmt'
      };
      
      if (urls[platform]) {
        window.open(urls[platform], '_blank');
      }
    }

    // Thêm năm hiện tại vào footer
    document.addEventListener('DOMContentLoaded', function() {
      const currentYearElements = document.querySelectorAll('.currentYear');
      const currentYear = new Date().getFullYear();
      currentYearElements.forEach(element => {
        element.textContent = currentYear;
      });
    });
  </script>
</body>
</html>
