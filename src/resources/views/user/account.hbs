{{#if successMessage}}
<div class="alert alert-success alert-dismissible fade show" role="alert">
    {{successMessage}}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{{/if}}

{{#if errorMessage}}
<div class="alert alert-danger alert-dismissible fade show" role="alert">
    {{errorMessage}}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{{/if}}

<div class="dashboard-header">
    <h2 class="dashboard-title mb-0"><i class="fas fa-home me-2"></i> T√†i Kho·∫£n</h2>
</div>
<div class="row">
    <!-- profile -->
    <div class="col-md-4">
    <div class="profile-card text-center">
        <img src="{{user.avatar}}" alt="Avatar" class="profile-img mb-3"
            onerror="this.onerror=null;this.src='/img/avatar.png';"/>

        <!-- N√∫t ch·ªânh s·ª≠a avatar -->
        <form action="/account/update" method="POST" enctype="multipart/form-data" class="mb-3">
        <input type="file" name="avatar" accept="image/*" id="avatarInput" style="display: none;" onchange="this.form.submit()">
        <button type="button" class="btn btn-outline-secondary btn-sm" onclick="document.getElementById('avatarInput').click()">
            <i class="fas fa-camera"></i> Thay ƒë·ªïi ·∫£nh ƒë·∫°i di·ªán
        </button>
        </form>

        <div class="profile-info">
        <h3>{{user.username}}</h3>
        <p><strong>Email:</strong> {{user.email}}</p>
        <p><strong>S·ªë ƒëi·ªán tho·∫°i:</strong> {{user.phone}}</p>
        </div>

        <div class="form-button">
        <a href="/logout" class="btn btn-custom btnlogout">
            <i class="fas fa-sign-out-alt"></i> ƒêƒÉng Xu·∫•t
        </a>
        </div>
    </div>
    </div>


    <!-- edit profile -->
    <div class="col-md-8">
        <div class="edit-profile-form p-4">
            <h4 style="color: #333">‚öôÔ∏è Ch·ªânh s·ª≠a t√†i kho·∫£n</h4>
            <form action="/account/update" method="POST">
                <div class="mb-3">
                    <label for="username" class="form-label"><i class="fas fa-user"></i> T√™n ng∆∞·ªùi d√πng</label>
                    <input type="text" class="form-control" id="username" name="username" value="{{user.username}}">
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" class="form-control" id="email" name="email" value="{{user.email}}">
                </div>
                <div class="mb-3">
                    <label for="phone" class="form-label"><i class="fas fa-phone"></i> S·ªë ƒëi·ªán tho·∫°i</label>
                    <input type="text" class="form-control" id="phone" name="phone" value="{{user.phone}}">
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label"><i class="fas fa-lock"></i> M·∫≠t kh·∫©u m·ªõi</label>
                    <input type="password" class="form-control" id="password" name="password">
                </div>
                <div class="form-button">
                    <button type="submit" class="btn btn-success "> üíæL∆∞u </button>
                </div>

            </form>
        </div>
    </div>
</div>

<style>
    
    label{
        color:#333;
    }
    button {
        width: auto; 
        padding: 8px 20px; 
        font-size: 14px; 
        display: flex;
        justify-content: center;
    }
    .form-button {
        display: flex;
        justify-content: center;
    }

    .profile-card {
        background: #fff;
        color: #333;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .profile-img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #005dba;
    }
    .btn-custom {
        width: 100%;
        margin-top: 10px;
    }
    .edit-profile-form {
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .btn-success {
        border: none;
        width: auto; 
        padding: 8px 20px;
        text-align: center;
        
    }
    .btnlogout{
        color: red;
        border: none;
        width: auto; 
        padding: 8px 20px;
        text-align: center;
    }
    .btnlogout:hover{
        color: rgb(255, 255, 255);
        background:  #eb2323;
        display: flex;
        justify-content: center;

    }
</style>
